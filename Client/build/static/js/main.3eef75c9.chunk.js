(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{183:function(e,t,r){},266:function(e,t,r){},267:function(e,t,r){},268:function(e,t,r){},269:function(e,t,r){},270:function(e,t,r){},271:function(e,t,r){},275:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(30),s=r.n(o),c=(r(183),r(23)),i=r(10),l=r.n(i),d=r(20),u=r(27),m=r(119),b=r(166),j=r(17),p=r(35),h=r(167),f=r(91),O=r(33),v=r(55),x=r.n(v);x.a.defaults.baseURL="https://nameless-brook-79906.herokuapp.com/api",x.a.interceptors.response.use(null,(function(e){e.response&&e.response.status>=400&&e.response.status;return Promise.reject(e)}));var g={get:x.a.get,post:x.a.post,put:x.a.put,patch:x.a.patch,delete:x.a.delete,setJwt:function(e){x.a.defaults.headers.common["x-auth-token"]=e}},k=Object(O.createSlice)({name:"errors",initialState:{msg:{},status:null},reducers:{errorsReturned:function(e,t){e.msg=t.payload.msg,e.status=t.payload.status}}});console.log(k);k.actions.errorsReturned;var y=k.reducer,_=function(e,t){return{type:k.actions.errorsReturned.type,payload:{msg:e,status:t}}},N=Object(O.createSlice)({name:"auth",initialState:{token:localStorage.getItem("token"),isAdmin:null,isAuthenticated:null,isLoading:!1,user:null,username:localStorage.getItem("username")},reducers:{userLoading:function(e,t){e.isLoading=!0},userLoaded:function(e,t){localStorage.setItem("username",t.username),e.isAdmin=t.payload.isAdmin,e.isAuthenticated=!0,e.isLoading=!1,e.user=t.payload,e.username=t.username},authError:function(e,t){localStorage.removeItem("token"),localStorage.removeItem("username"),e.token=null,e.user=null,e.isAdmin=!1,e.isAuthenticated=!1,e.isLoading=!1},loginSuccess:function(e,t){localStorage.setItem("token",t.payload),e.token=t.payload,e.isAdmin=t.payload.isAdmin,e.isAuthenticated=!0,e.isLoading=!1,e.user=t.payload.user},loginFail:function(e,t){localStorage.removeItem("token"),localStorage.removeItem("username"),e.token=null,e.user=null,e.isAdmin=!1,e.isAuthenticated=!1,e.isLoading=!1},logoutSuccess:function(e,t){localStorage.removeItem("token"),localStorage.removeItem("username"),e.token=null,e.user=null,e.isAdmin=!1,e.isAuthenticated=!1,e.isLoading=!1},registerSuccess:function(e,t){localStorage.setItem("token",t.payload.token),localStorage.setItem("username",t.payload.username),e.isAdmin=!1,e.isAuthenticated=!0,e.isLoading=!1},registerFail:function(e,t){localStorage.removeItem("token"),localStorage.removeItem("username"),e.token=null,e.user=null,e.isAdmin=!1,e.isAuthenticated=!1,e.isLoading=!1}}});console.log(N);var w=N.actions,S=(w.userLoading,w.userLoaded,w.authError,w.loginSuccess,w.loginFail,w.logoutSuccess,w.registerSuccess,w.registerFail,N.reducer),C=function(){return function(e,t){e({type:N.actions.userLoading.type}),g.get("/users/me",A(t)).then((function(t){return e({type:N.actions.userLoaded.type,payload:t.data,username:t.data.username})})).catch((function(t){var r,n;e(_(null===(r=t.response)||void 0===r?void 0:r.data,null===(n=t.response)||void 0===n?void 0:n.status)),e({type:N.actions.authError.type})}))}},A=function(e){var t=e().auth.token,r={headers:{"Content-Type":"application/json"}};return t&&(r.headers.Authorization="Token ".concat(t),r.headers["x-auth-token"]="".concat(t)),r},L=Object(O.createSlice)({name:"messages",initialState:{},reducers:{messagesCreated:function(e,t){e.messages=t.payload}}});console.log(L);L.actions.messagesCreated;var T=L.reducer,I=function(e){return{type:L.actions.messagesCreated.type,payload:e}},R=r(53),P=r.n(R),U="/users",B=Object(O.createSlice)({name:"users",initialState:{users:[],currentUser:{}},reducers:{userAdded:function(e,t){e.users.push(t.payload)},usersLoaded:function(e,t){e.users=t.payload},userLoaded:function(e,t){e.currentUser=t.payload},userObjectUpdated:function(e,t){var r=e.users.findIndex((function(e){return e._id===t.id}));e.users[r]=t.payload},userUpdated:function(e,t){var r=e.users.findIndex((function(e){return e._id===t.id})),n=Object.keys(t.payload.$set),a=Object(c.a)({},e.users[r]);n.forEach((function(e){a["".concat(e)]=t.payload.$set["".concat(e)]})),e.users[r]=a},userRemoved:function(e,t){var r=e.users.findIndex((function(e){return e.id===t.id}));e.users.splice(r,1)}}});console.log(B);var E=B.actions,F=(E.userAdded,E.usersLoaded,E.userLoaded,E.userObjectUpdated,E.userUpdated,E.userRemoved,B.reducer),q=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get(U,A(r)).then((function(e){t({type:B.actions.usersLoaded.type,payload:e.data})})).catch((function(e){var t;return console.log(null===(t=e.response)||void 0===t?void 0:t.data)}));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},M=function(e,t){return function(){var r=Object(d.a)(l.a.mark((function r(n,a){var o,s,c,i,d,u,m,b,j;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={isError:!1,errorMessage:""},s=e.username,c=e.email,i=e.password,d=e.isAdmin,u=e.ordered_books,m=e.liked_books,b=e.age,j=e.country,r.next=4,g.patch("".concat(U,"/").concat(t,"/"),{username:s,email:c,password:i,isAdmin:d,ordered_books:u,liked_books:m,age:b,country:j},A(a)).then((function(e){n({type:B.actions.userUpdated.type,payload:e.data,id:t})})).catch((function(e){var t,r;console.log(null===(t=e.response)||void 0===t?void 0:t.data),o.isError=!0,o.errorMessage=null===(r=e.response)||void 0===r?void 0:r.data}));case 4:return r.abrupt("return",o);case 5:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},G="/books",D=Object(O.createSlice)({name:"books",initialState:{books:[],currentBook:{}},reducers:{bookAdded:function(e,t){e.push(t.payload)},booksloaded:function(e,t){e.books=t.payload},bookloaded:function(e,t){e.currentBook=t.payload},bookRemoved:function(e,t){var r=e.books.findIndex((function(e){return e.id===t.id}));e.splice(r,1)}}});console.log(D);var $=D.actions,z=($.bookAdded,$.bookloaded,$.bookRemoved,D.reducer),Y=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get(G).then((function(e){t({type:D.actions.booksloaded.type,payload:e.data})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H="/comments",W=Object(O.createSlice)({name:"comments",initialState:{comments:[]},reducers:{commentsloaded:function(e,t){e.comments=t.payload},commentAdded:function(e,t){e.comments.push(t.payload)},commentUpdated:function(e,t){var r=e.comments.findIndex((function(e){return e._id===t.id})),n=Object(c.a)({},e.comments[r]);n.like_counter=t.payload.$set.like_counter?t.payload.$set.like_counter:n.like_counter,n.like_submitter=t.payload.$set.like_submitter?t.payload.$set.like_submitter:n.like_submitter,n.dislike_counter=t.payload.$set.dislike_counter?t.payload.$set.dislike_counter:n.dislike_counter,n.dislike_submitter=t.payload.$set.dislike_submitter?t.payload.$set.dislike_submitter:n.dislike_submitter,n.comment_replies=t.payload.$set.comment_replies?t.payload.$set.comment_replies:n.comment_replies,e.comments[r]=n}}});console.log(W);var J=W.actions,K=(J.commentAdded,J.commentloaded,J.commentRemoved,W.reducer),Q=function(){return function(e){g.get(H).then((function(t){e({type:W.actions.commentsloaded.type,payload:t.data})})).catch((function(e){return console.log(e)}))}},V=function(e){return function(t,r){g.post(H,e,A(r)).then((function(e){t({type:W.actions.commentAdded.type,payload:e.data})})).catch((function(e){return console.log(e)}))}},X="/orders",Z=Object(O.createSlice)({name:"orders",initialState:{orders:{}},reducers:{orderAdded:function(e,t){e.orders.push(t.payload)},ordersloaded:function(e,t){e.orders=t.payload},orderloaded:function(e,t){var r=e.findIndex((function(e){return e._id===t.id}));e[r]=t.payload},orderRemoved:function(e,t){var r=e.orders.findIndex((function(e){return e._id===t.id}));e.orders.splice(r,1)}}});console.log(Z);var ee=Z.actions,te=(ee.orderAdded,ee.orderloaded,ee.orderRemoved,Z.reducer),re=function(){return function(e){g.get(X).then((function(t){e({type:Z.actions.ordersloaded.type,payload:t.data})})).catch((function(e){return console.log(e)}))}},ne=function(e){return function(t,r){g.delete("".concat(X,"/").concat(e),A(r)).then((function(e){t({type:Z.actions.orderRemoved.type,payload:e.data})})).catch((function(e){return console.log(e)}))}},ae=r(71),oe=r.n(ae),se=Object(p.combineReducers)({admin:oe.a,auth:S,users:F,books:z,comments:K,orders:te,errors:y,messages:T}),ce=[f.a],ie=Object(p.createStore)(se,{},Object(h.composeWithDevTools)(p.applyMiddleware.apply(void 0,ce))),le=r(28),de=r(13),ue=r(16),me=r(0),be=r.n(me),je=r(18),pe=r(43),he=r(48),fe=r(15),Oe=r(3);var ve=Object(ue.connect)((function(e){return{isAdmin:e.auth.isAdmin,isAuthenticated:e.auth.isAuthenticated,username:e.auth.username,books:e.books.books}}),{logout:function(){return function(e,t){try{e({type:N.actions.logoutSuccess.type})}catch(a){var r,n;console.log(a),e(_(null===(r=a.response)||void 0===r?void 0:r.data,null===(n=a.response)||void 0===n?void 0:n.status))}}}})((function e(t){var r,o;e.prototype={isAdmin:be.a.bool.isRequired,isAuthenticated:be.a.bool.isRequired,username:be.a.string.isRequired,books:be.a.array.isRequired,logout:be.a.func.isRequired};var s=Object(n.useState)(""),c=Object(de.a)(s,2),i=c[0],l=c[1],d=Object(n.useState)(!0),m=Object(de.a)(d,2),b=m[0],j=m[1],p=Object(n.useState)(!0),h=Object(de.a)(p,2),f=h[0],O=h[1],v=Object(n.useRef)(null),x=t.isAdmin,g=t.isAuthenticated,k=t.username,y=t.books.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())}));y=y.slice(0,5);var _=Object(u.k)();console.log(x),Object(n.useEffect)((function(){return window.addEventListener("mousedown",N),function(){window.removeEventListener("mousedown",N)}}));var N=function(e){var t=v.current;t&&!t.contains(e.target)&&O(!0)};function w(e,t){return(null===e||void 0===e?void 0:e.length)>t?e.substr(0,t-1)+"...":e}var S=function(){g?t.logout():_.push("/login")},C=function(e){l(e.currentTarget.value)},A=function(e){i?(e.preventDefault(),_.push("/search/".concat(i))):alert("The search input is empty.")};return Object(Oe.jsxs)(a.a.Fragment,{children:[Object(Oe.jsxs)("div",{className:"bookstore_navbar",children:[Object(Oe.jsx)("div",{className:"navbar_brand",style:{width:"10%"},children:Object(Oe.jsx)(je.Link,{to:"/",style:{textDecoration:"none",color:"gold"},children:Object(Oe.jsxs)("p",{children:["Book ",Object(Oe.jsx)("strong",{children:"Store"})]})})}),g&&Object(Oe.jsx)("div",{className:"navbar_item",style:{width:"10%"},children:Object(Oe.jsxs)("p",{style:{color:"gold"},children:["Hello ",Object(Oe.jsx)("strong",{style:{color:"gold"},children:k})]})}),Object(Oe.jsx)(fe.a,{className:"search_form",style:{width:"40%",margin:"0 50px"},onSubmit:A,children:Object(Oe.jsx)(fe.a.Group,{children:Object(Oe.jsxs)(pe.a,{className:"mb-3",ref:v,onClick:function(){!1===b&&j(!b)},children:[Object(Oe.jsx)(he.a,{placeholder:"Search book...","aria-label":"Search book...","aria-describedby":"basic-addon2",onChange:C}),Object(Oe.jsx)(pe.a.Append,{children:Object(Oe.jsx)("i",{className:"fa fa-search search_icon",onClick:A})}),b&&i&&Object(Oe.jsxs)("div",{className:"search__list",children:[null===(r=y)||void 0===r?void 0:r.map((function(e){return Object(Oe.jsxs)("div",{onClick:function(){return window.location.href="/books/".concat(e._id)},className:"search__list__element",children:[Object(Oe.jsx)("img",{src:"".concat("https://nameless-brook-79906.herokuapp.com","/").concat(e.image),alt:e.image}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("p",{children:Object(Oe.jsx)("strong",{children:w(e.name,50)})}),Object(Oe.jsxs)("p",{children:["by ",e.author]})]}),Object(Oe.jsx)("hr",{})]},e._id)})),Object(Oe.jsx)("div",{onClick:function(){return window.location.href="/search/".concat(i)},className:"search__all__element",children:Object(Oe.jsxs)("p",{children:['See all result for "',i,'"']})})]})]})})}),Object(Oe.jsx)("div",{className:"navbar_menu",style:{width:"40%"},children:Object(Oe.jsxs)("div",{className:"navbar-end",style:{display:"flex",flexDirection:"row",marginTop:"-10px"},children:[Object(Oe.jsx)("div",{onClick:S,className:"navbar-item",style:{color:"gold",cursor:"pointer"},children:g?"Logout":"Login"}),Object(Oe.jsx)(je.Link,{to:"/books",className:"navbar-item",style:{color:"gold"},children:"Books"}),g&&x&&Object(Oe.jsx)(je.Link,{to:"/admin",className:"navbar-item",style:{color:"gold"},children:"Admin"}),g&&Object(Oe.jsx)(je.Link,{to:"/orders",className:"navbar-item",style:{color:"gold"},children:"Orders"}),Object(Oe.jsx)("span",{className:"navbar-item",children:Object(Oe.jsxs)("a",{className:"button is-info is-inverted github_btn",href:"https://github.com/yahyaest/BookStore_App",children:[Object(Oe.jsx)("span",{className:"icon",children:Object(Oe.jsx)("i",{className:"fa fa-github"})}),Object(Oe.jsx)("span",{children:"Download"})]})})]})})]}),Object(Oe.jsxs)("div",{className:"bookstore_navbar_android",children:[Object(Oe.jsxs)("div",{className:"first_nav",children:[Object(Oe.jsx)("div",{className:"navbar_brand",style:{width:"25%",fontSize:"10px"},children:Object(Oe.jsx)(je.Link,{to:"/",style:{textDecoration:"none",color:"gold"},children:Object(Oe.jsxs)("p",{children:["Book ",Object(Oe.jsx)("strong",{children:"Store"})]})})}),g&&Object(Oe.jsx)("div",{className:"navbar_item",style:{width:"15%",fontSize:"10px"},children:Object(Oe.jsxs)("p",{style:{color:"gold"},children:["Hello ",Object(Oe.jsx)("strong",{style:{color:"gold"},children:k})]})}),Object(Oe.jsx)("div",{className:"navbar_menu",style:{width:"60%"},children:Object(Oe.jsxs)("div",{className:"navbar-end",style:{display:"flex",flexDirection:"row",marginTop:"-10px",fontSize:"10px"},children:[Object(Oe.jsx)("div",{onClick:S,className:"navbar-item",style:{color:"gold",cursor:"pointer"},children:g?"Logout":"Login"}),Object(Oe.jsx)(je.Link,{to:"/books",className:"navbar-item",style:{color:"gold"},children:"Books"}),g&&x&&Object(Oe.jsx)(je.Link,{to:"/admin",className:"navbar-item",style:{color:"gold"},children:"Admin"}),g&&Object(Oe.jsx)(je.Link,{to:"/orders",className:"navbar-item",style:{color:"gold"},children:"Orders"})]})})]}),Object(Oe.jsx)("div",{className:"second_nav",children:Object(Oe.jsx)(fe.a,{style:{width:"90%"},onSubmit:A,children:Object(Oe.jsx)(fe.a.Group,{children:Object(Oe.jsxs)(pe.a,{className:"mb-3",ref:v,onClick:function(){!1===f&&O(!f)},children:[Object(Oe.jsx)(he.a,{placeholder:"Search book...","aria-label":"Search book...","aria-describedby":"basic-addon2",onChange:C}),Object(Oe.jsx)(pe.a.Append,{children:Object(Oe.jsx)("i",{className:"fa fa-search search_icon",onClick:A})}),f&&i&&Object(Oe.jsxs)("div",{className:"search__list",children:[null===(o=y)||void 0===o?void 0:o.map((function(e){return Object(Oe.jsxs)("div",{onClick:function(){return window.location.href="/books/".concat(e._id)},className:"search__list__element",children:[Object(Oe.jsx)("img",{src:"".concat("https://nameless-brook-79906.herokuapp.com","/").concat(e.image),alt:e.image}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("p",{children:Object(Oe.jsx)("strong",{children:w(e.name,50)})}),Object(Oe.jsxs)("p",{children:["by ",e.author]})]}),Object(Oe.jsx)("hr",{})]},e._id)})),Object(Oe.jsx)("div",{onClick:function(){return window.location.href="/search/".concat(i)},className:"search__all__element",children:Object(Oe.jsxs)("p",{children:['See all result for "',i,'"']})})]})]})})})})]})]})})),xe=r(70);var ge=function(){return Object(Oe.jsxs)(xe.e,{color:"red darken-1",className:"font-small pt-4 mt-4",children:[Object(Oe.jsx)(xe.d,{fluid:!0,className:"text-center text-md-left",children:Object(Oe.jsxs)(xe.j,{children:[Object(Oe.jsxs)(xe.c,{md:"8",children:[Object(Oe.jsx)("h5",{className:"title",children:"Social Links"}),Object(Oe.jsx)("p",{children:"CONNECT"}),Object(Oe.jsx)("a",{className:"footer__socialLink",href:"https://www.facebook.com/Goodreads/",children:Object(Oe.jsx)("img",{alt:"Facebook",src:"//s.gr-assets.com/assets/site_footer/footer_facebook-ea4ab848f8e86c5f5c98311bc9495a1b.svg"})}),Object(Oe.jsx)("a",{className:"footer__socialLink",href:"https://twitter.com/goodreads",children:Object(Oe.jsx)("img",{alt:"Twitter",src:"//s.gr-assets.com/assets/site_footer/footer_twitter-126b3ee80481a763f7fccb06ca03053c.svg"})}),Object(Oe.jsx)("a",{className:"footer__socialLink",href:"https://www.instagram.com/goodreads/",children:Object(Oe.jsx)("img",{alt:"Instagram",src:"//s.gr-assets.com/assets/site_footer/footer_instagram-d59e3887020f12bcdb12e6c539579d85.svg"})}),Object(Oe.jsx)("a",{className:"footer__socialLink",href:"https://www.linkedin.com/company/goodreads-com/",children:Object(Oe.jsx)("img",{alt:"LinkedIn",src:"//s.gr-assets.com/assets/site_footer/footer_linkedin-5b820f4703eff965672594ef4d10e33c.svg"})}),Object(Oe.jsx)("a",{className:"footer__socialLink",href:"https://github.com/yahyaest",children:Object(Oe.jsx)("img",{alt:"Github",src:"https://cdn4.iconfinder.com/data/icons/iconsimple-logotypes/512/github-512.png",style:{width:"30px",color:"#b48484"}})})]}),Object(Oe.jsxs)(xe.c,{md:"4",children:[Object(Oe.jsx)("h5",{className:"title",children:"Links"}),Object(Oe.jsxs)("ul",{children:[Object(Oe.jsx)("li",{className:"list-unstyled",children:Object(Oe.jsx)("a",{href:"/books",children:"Books"})}),Object(Oe.jsx)("li",{className:"list-unstyled",children:Object(Oe.jsx)("a",{href:"https://covid-19-tracker-44022.web.app/",children:"Covid Tracker"})}),Object(Oe.jsx)("li",{className:"list-unstyled",children:Object(Oe.jsx)("a",{href:"https://games-api-finder.web.app/",children:"Game Finder"})})]})]})]})}),Object(Oe.jsx)("div",{className:"footer-copyright text-center py-3",children:Object(Oe.jsxs)(xe.d,{fluid:!0,children:["\xa9 ",(new Date).getFullYear()," Copyright:"," ",Object(Oe.jsx)("a",{href:"https://github.com/yahyaest/BookStore_App",children:"BookStore App"})]})})]})},ke=r(72),ye=function(e){var t=e.itemsCounts,r=e.pageSize,n=e.currentPage,o=e.onPageChange,s=Math.ceil(t/r);if(1===s)return null;for(var c=[],i=function(e){c.push(Object(Oe.jsx)(ke.default.Item,{className:e===n?"page-item active":"page-item",onClick:function(){return o(e)},children:e},e))},l=1;l<=s;l++)i(l);return Object(Oe.jsx)(a.a.Fragment,{children:Object(Oe.jsx)(ke.default,{children:c})})},_e=r(173),Ne=r.n(_e);r(240);var we=function(e){var t,r=e.booksList,n=function(){var e=P.a.orderBy(r,"rate","desc");return e=P.a.slice(e,[0],[10])};return n(),Object(Oe.jsxs)(a.a.Fragment,{children:[Object(Oe.jsx)("div",{className:"carousel__title",children:Object(Oe.jsx)("p",{children:" Top 10 Books"})}),Object(Oe.jsx)(Ne.a,{swipeable:!1,draggable:!1,showDots:!0,responsive:{desktop:{breakpoint:{max:3e3,min:1024},items:5},mobile:{breakpoint:{max:360,min:0},items:2}},focusOnSelect:!0,ssr:!0,infinite:!0,containerClass:"carousel-container",dotListClass:"custom-dot-list-style",itemClass:"carousel-item-padding-20-px",children:null===(t=n())||void 0===t?void 0:t.map((function(t){return Object(Oe.jsx)("div",{children:Object(Oe.jsx)("img",{className:"carousel__img",src:"".concat("https://nameless-brook-79906.herokuapp.com","/").concat(t.image),alt:t.name,onClick:function(){return e.goToBookPage(t._id)}})},t._id)}))})]})},Se=r(36);var Ce=function(e){var t=e.booksList,r=e.user;return Object(Oe.jsx)("div",{className:"books__cards",children:null===t||void 0===t?void 0:t.map((function(t,n){return Object(Oe.jsxs)(Se.a,{className:"book__card",children:[Object(Oe.jsx)(Se.a.Img,{variant:"top",src:"".concat("https://nameless-brook-79906.herokuapp.com","/").concat(t.image),alt:t.name,onClick:function(){return e.goToBookPage(t._id)}}),Object(Oe.jsxs)(Se.a.Body,{children:[Object(Oe.jsx)(Se.a.Title,{children:t.name}),Object(Oe.jsx)(Se.a.Text,{children:t.author}),Object(Oe.jsxs)(Se.a.Text,{children:["Rate : ",t.rate," "]}),Object(Oe.jsx)(Se.a.Text,{children:Object(Oe.jsxs)("strong",{children:[t.price," $"]})}),Object(Oe.jsx)("i",{className:e.CheckBookIsLiked(t)?"fa fa-heart":"fa fa-heart-o",onClick:function(){e.handleFavouriteIcon(null===r||void 0===r?void 0:r._id,n,t)}})]})]},t._id)}))})},Ae=r(21);var Le=function(e){return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)(Ae.a,{children:[Object(Oe.jsx)(Ae.a.Toggle,{variant:"warning",id:"dropdown-basic",size:"sm",children:"Sort By"}),Object(Oe.jsxs)(Ae.a.Menu,{children:[Object(Oe.jsx)(Ae.a.Item,{onClick:function(){return e.onSort("name")},children:"Name"}),Object(Oe.jsx)(Ae.a.Item,{onClick:function(){return e.onSort("price")},children:"Price"}),Object(Oe.jsx)(Ae.a.Item,{onClick:function(){return e.onSort("rate")},children:"Rate"})]})]})})};var Te=function(e){var t,r=e.genre,n=e.books;return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)(Ae.a,{children:[Object(Oe.jsx)(Ae.a.Toggle,{variant:"danger",id:"dropdown-basic",size:"sm",children:r}),Object(Oe.jsx)(Ae.a.Menu,{children:null===(t=e.getGenresList(n))||void 0===t?void 0:t.map((function(t){return Object(Oe.jsx)(Ae.a.Item,{onClick:function(){return e.filterByGenre(t)},children:t},t)}))})]})})},Ie=r(25);var Re=function(e){var t=e.handleSearch;return Object(Oe.jsx)("div",{className:"books__search",children:Object(Oe.jsxs)(pe.a,{className:"mb-3",size:"sm",children:[Object(Oe.jsx)(he.a,{placeholder:"Start search","aria-label":"Start search","aria-describedby":"basic-addon2",onChange:t}),Object(Oe.jsx)(pe.a.Append,{children:Object(Oe.jsx)(Ie.default,{variant:"info",style:{margin:0},className:"search_btn",children:"Search"})})]})})};var Pe=Object(ue.connect)((function(e){return{books:e.books.books,users:e.users.users,username:e.auth.username,isAuthenticated:e.auth.isAuthenticated}}),{updateUser:M,createMessage:I})((function e(t){e.prototype={books:be.a.array.isRequired,users:be.a.array.isRequired,username:be.a.string.isRequired,isAuthenticated:be.a.bool.isRequired,updateUser:be.a.func.isRequired,createMessage:be.a.func.isRequired};var r=t.books,o=t.users,s=t.username,i=t.isAuthenticated,m=Object(n.useState)({}),b=Object(de.a)(m,2),p=b[0],h=b[1],f=Object(n.useState)("Genres"),O=Object(de.a)(f,2),v=O[0],x=O[1],g=Object(n.useState)(""),k=Object(de.a)(g,2),y=k[0],_=k[1],N=Object(n.useState)(""),w=Object(de.a)(N,2),S=w[0],C=w[1],A=Object(n.useState)(1),L=Object(de.a)(A,2),T=L[0],I=L[1],R=Object(n.useState)([]),U=Object(de.a)(R,2),B=U[0],E=U[1],F=Object(u.k)(),q=function(e){return new Promise((function(t){return setTimeout(t,e)}))},M=function(){var e=o.filter((function(e){return e.username===s}));h(e[0])};Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(100);case 2:M();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r,o]);var G=function(e){F.push("/books/".concat(e))},D=function(e,t){var n=[];return n=S?r.filter((function(e){return e.name.toLowerCase().startsWith(S.toLowerCase())})):"Genres"===e?r:r.filter((function(t){return t.genre===e})),{booksList:function(e,t,r){var n=(t-1)*r;return P()(e).slice(n).take(r).value()}(P.a.orderBy(n,t,"asc"),T,8),count:"Genres"!==e||S?n.length:r.length}}(v,y),$=D.booksList,z=D.count;return Object(Oe.jsxs)(a.a.Fragment,{children:[Object(Oe.jsx)(ve,{}),Object(Oe.jsxs)("div",{className:"books",children:[Object(Oe.jsx)(we,{className:"books__carousel",booksList:t.books,goToBookPage:G}),Object(Oe.jsxs)("div",{className:"books__filters",children:[Object(Oe.jsx)(Le,{onSort:function(e){_(e),I(1)}}),Object(Oe.jsx)(Te,{genre:v,books:r,getGenresList:function(e){var t=["All"];return null===e||void 0===e||e.map((function(e){-1===t.findIndex((function(t){return e.genre===t}))&&t.push(e.genre)})),t},filterByGenre:function(e){x("All"===e?"Genres":e),I(1)}})]}),Object(Oe.jsx)(Re,{handleSearch:function(e){I(1),C(e.currentTarget.value)}}),Object(Oe.jsx)(Ce,{booksList:$,user:p,goToBookPage:G,CheckBookIsLiked:function(e){if(i){var t=o.filter((function(e){return e.username===s}))[0],r=Object(c.a)({},t).liked_books;return-1!==(null===r||void 0===r?void 0:r.findIndex((function(t){return t.name===e.name})))}},handleFavouriteIcon:function(e,r,n){if(i){var a=Object(c.a)({},p),o=a.liked_books,s=Object(le.a)(o),l=s.findIndex((function(e){return e.name===n.name}));if(-1===l){s.push(n);var d=Object(le.a)(B);d[r]=!0,E(d),j.toast.info("Added to liked books")}else{s.splice(l,1);var u=Object(le.a)(B);u[r]=!1,E(u),j.toast.warn("Removed from liked books")}a.liked_books=s,t.updateUser(a,e)}else j.toast.error("You need to log in to perform this action.",{toastId:"notLogged"})}})]}),Object(Oe.jsx)(ye,{itemsCounts:z,pageSize:8,currentPage:T,onPageChange:function(e){I(e)}}),Object(Oe.jsx)(ge,{})]})}));function Ue(e,t){var r=0;if(t<1501&&(r=26),t<1351&&(r=22),t<1201&&(r=18),t<993&&(r=15),t<767&&(r=13),t<577&&(r=8),r>0){for(var n=e.replace("\n","").split(" "),a=n.length/r,o="",s=0;s<a;s++){for(var c="",i=0;i<r;i++)n[s*r+i]&&(c=c+n[s*r+i]+" ");o=o+c+"\n"}return o}return e}function Be(e){var t=Date.now()-Date.parse(e),r=Math.trunc(t/1e3),n=Math.trunc(t/6e4),a=Math.trunc(t/36e5),o=Math.trunc(t/864e5),s=Math.trunc(t/6048e5),c=Math.trunc(t/2592e6),i=Math.trunc(t/31536e6);return r<60?"Now":n<2?"".concat(n," minute ago"):n<60?"".concat(n," minutes ago"):a<2?"".concat(a," hour ago"):a<24?"".concat(a," hours ago"):o<2?"".concat(o," day ago"):o<8?"".concat(o," days ago"):s<2?"".concat(s," week ago"):s<4?"".concat(s," weeks ago"):c<2?"".concat(c," month ago"):c<12?"".concat(c," months ago"):"".concat(i,i<2?" year ago":" years ago")}var Ee=Object(ue.connect)((function(e){var t;return{comments:e.comments.comments,users:e.users.users,isAuthenticated:e.auth.isAuthenticated,username:e.auth.username,userId:null===(t=e.auth.user)||void 0===t?void 0:t._id}}),{addComment:V,updateCommentCounter:function(e,t){return function(r,n){var a=e.like_counter,o=e.like_submitter,s=e.dislike_counter,c=e.dislike_submitter;g.patch("".concat(H,"/").concat(t,"/"),{like_counter:a,like_submitter:o,dislike_counter:s,dislike_submitter:c},A(n)).then((function(e){r({type:W.actions.commentUpdated.type,payload:e.data,id:t})})).catch((function(e){return console.log(e)}))}},updateCommentReplies:function(e,t){return function(r,n){var a=e.comment_replies;g.patch("".concat(H,"/").concat(t,"/"),{comment_replies:a},A(n)).then((function(e){r({type:W.actions.commentUpdated.type,payload:e.data,id:t})})).catch((function(e){return console.log(e)}))}}})((function e(t){e.prototype={comments:me.PropTypes.array.isRequired,users:me.PropTypes.array.isRequired,isAuthenticated:me.PropTypes.bool.isRequired,username:me.PropTypes.string.isRequired,userId:me.PropTypes.number.isRequired,addComment:me.PropTypes.func.isRequired,updateCommentCounter:me.PropTypes.func.isRequired,updateCommentReplies:me.PropTypes.func.isRequired};var r=Object(n.useState)(""),o=Object(de.a)(r,2),s=o[0],i=o[1],u=Object(n.useState)([]),m=Object(de.a)(u,2),b=(m[0],m[1],Object(n.useState)([])),p=Object(de.a)(b,2),h=p[0],f=p[1],O=Object(n.useState)(""),v=Object(de.a)(O,2),x=v[0],g=v[1],k=Object(n.useState)([]),y=Object(de.a)(k,2),_=y[0],N=y[1],w=Object(n.useState)(window.innerWidth),S=Object(de.a)(w,2),C=S[0],A=S[1],L=t.isAuthenticated,T=t.username,I=t.bookId,R=t.userId,P=t.comments,U=t.users;window.addEventListener("resize",(function(){return A(window.innerWidth),window.innerWidth}));for(var B=document.getElementsByTagName("textarea"),E=0;E<B.length;E++)B[E].setAttribute("style","height:"+B[E].scrollHeight+"px;overflow-y:hidden;"),B[E].addEventListener("input",F,!1);function F(e){this.style.height="auto",this.style.height=this.scrollHeight+"px"}var q=function(e,t){return t.filter((function(t){var r;return(null===(r=t.book)||void 0===r?void 0:r._id)===e}))},M=function(e,t){var r;return null===(r=t.filter((function(t){return t._id===e}))[0])||void 0===r?void 0:r.username},G=function(){var e=Object(d.a)(l.a.mark((function e(r,n,a){var o,s,i,d,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L){e.next=4;break}j.toast.error("You need to log in to perform this action.",{toastId:"notLogged"}),e.next=15;break;case 4:return o=Object(c.a)({},r),s=Object(le.a)(o.like_submitter),i=Object(le.a)(o.dislike_submitter),d=s.findIndex((function(e){return e===T})),u=i.findIndex((function(e){return e===T})),"increment"===a&&(-1===d?(s.push(T),o.like_counter++,-1!==u&&(i.splice(u,1),o.dislike_counter--,0===o.dislike_counter&&window.location.reload())):(s.splice(d,1),o.like_counter--,0===o.like_counter&&window.location.reload())),"decrement"===a&&(-1===u?(i.push(T),o.dislike_counter++,-1!==d&&(s.splice(d,1),o.like_counter--,0===o.like_counter&&window.location.reload())):(i.splice(u,1),o.dislike_counter--,0===o.dislike_counter&&window.location.reload())),o.like_submitter=s,o.dislike_submitter=i,e.next=15,t.updateCommentCounter(o,n);case 15:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(l.a.mark((function e(r,n,a,o){var s,i,d,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=4;break}j.toast.error("The reply field is empty."),e.next=14;break;case 4:return s=Object(c.a)({},r),i={submitter:a,body:x},(d=Object(le.a)(s.comment_replies)).push(i),s.comment_replies=d,e.next=11,t.updateCommentReplies(s,n);case 11:(u=Object(le.a)(_))[o]=!1,N(u);case 14:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),$=function(e){g(e.currentTarget.value.replace(".",".\n"))},z=function(e){return-1===(null===e||void 0===e?void 0:e.findIndex((function(e){return e===T})))?"like":"selectedLike"};return Object(n.useEffect)((function(){q(I,P)}),[P]),Object(Oe.jsx)(a.a.Fragment,{children:Object(Oe.jsxs)("div",{className:"book__comments",children:[Object(Oe.jsx)(pe.a,{className:"comment__add",children:Object(Oe.jsx)(he.a,{id:"commentInput",as:"textarea",rows:4,placeholder:"Add your comment...","aria-label":"Add your reply","aria-describedby":"basic-addon2",onChange:function(e){i(e.currentTarget.value.replace(".",".\n"))}})}),Object(Oe.jsx)(Ie.default,{className:"comment__button",variant:"outline-secondary",onClick:function(){return function(e){if(!L)return j.toast.error("You need to log in to perform this action.",{toastId:"notLogged"});if(!s)return j.toast.error("The comment field is empty.");var r={};r.comment=e,r.userId=R,r.bookId=I,t.addComment(r),document.getElementById("commentInput").value=""}(s)},children:"Send"}),Object(Oe.jsx)("div",{className:"bookComments",children:q(I,P).map((function(e,t){var r,n;return Object(Oe.jsxs)("div",{className:"book__comment",children:[Object(Oe.jsxs)("div",{className:"comment__header",children:[Object(Oe.jsx)("strong",{className:"comment__submitter",children:M(null===(r=e.user)||void 0===r?void 0:r._id,U)}),Object(Oe.jsx)("p",{className:"comment__date",children:Be(e.created_at)})]}),Object(Oe.jsx)("p",{style:{whiteSpace:"pre"},children:Ue(e.comment,C)}),Object(Oe.jsxs)("div",{className:"comment__reactions",children:[Object(Oe.jsx)("i",{className:"fa fa-thumbs-up ".concat(z(e.like_submitter)),onClick:function(){return G(e,e._id,"increment")},children:e.like_counter}),Object(Oe.jsx)("i",{className:"fa fa-thumbs-down ".concat(z(e.dislike_submitter)),onClick:function(){return G(e,e._id,"decrement")},children:e.dislike_counter}),Object(Oe.jsx)(Ie.default,{variant:"light",size:"sm",onClick:function(){return function(e){if(L){var t=Object(le.a)(_);t[e]=!0,N(t)}else j.toast.error("You need to log in to perform this action.",{toastId:"notLogged"})}(t)},children:"Reply"})]}),_[t]&&Object(Oe.jsxs)("div",{className:"comment__reply",children:[Object(Oe.jsx)("input",{className:"comment__reply__input",placeholder:"Add your reply","aria-label":"Add your reply","aria-describedby":"basic-addon2",onChange:$}),Object(Oe.jsxs)("div",{className:"comment__reply_buttons",children:[Object(Oe.jsx)(Ie.default,{variant:"outline-dark",onClick:function(){return function(e){if(L){var t=Object(le.a)(_);t[e]=!1,N(t)}else j.toast.error("You need to log in to perform this action.",{toastId:"notLogged"})}(t)},children:"Cancel"}),Object(Oe.jsx)(Ie.default,{variant:"outline-secondary",onClick:function(){return D(e,e._id,T,t)},children:"Send"})]})]}),Object(Oe.jsx)("div",{className:"comment__showReplies",onClick:function(){return function(e){var t=Object(le.a)(h);t[e]=!t[e],f(t)}(t)},children:h[t]?Object(Oe.jsxs)(a.a.Fragment,{children:[Object(Oe.jsx)("i",{className:"fa fa-sort-up"}),Object(Oe.jsx)("p",{children:"Hide replies"})]}):Object(Oe.jsxs)(a.a.Fragment,{children:[Object(Oe.jsx)("i",{className:"fa fa-sort-down"}),Object(Oe.jsx)("p",{children:"Show replies"})]})}),Object(Oe.jsx)("div",{className:"comment__replies",children:h[t]&&(null===(n=e.comment_replies)||void 0===n?void 0:n.map((function(e,t){return Object(Oe.jsxs)("div",{className:"comment__reply",children:[Object(Oe.jsx)("strong",{children:e.submitter}),Object(Oe.jsx)("p",{className:"comment__reply__p",style:{whiteSpace:"pre"},children:Ue(e.body,C)})]},t)})))})]},e._id)}))})]})})}));var Fe=Object(ue.connect)((function(e){return{book:e.books.currentBook,users:e.users.users,orders:e.orders.orders,username:e.auth.username,isAuthenticated:e.auth.isAuthenticated}}),{updateUser:M,addOrder:function(e){return function(t,r){g.post(X,e,A(r)).then((function(e){t({type:Z.actions.orderAdded.type,payload:e.data})})).catch((function(e){return console.log(e)}))}},removeOrder:ne,createMessage:I})((function(e){var t=e.book,r=e.user,o=e.orders,s=e.isAuthenticated,i=Object(n.useState)([!1,!1]),u=Object(de.a)(i,2),m=u[0],b=u[1],p=Object(n.useState)(!1),h=Object(de.a)(p,2),f=h[0],O=h[1],v=Object(n.useState)(!1),x=Object(de.a)(v,2),g=x[0],k=x[1],y=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function _(e,t,r){return!1===m[r]&&(null===e||void 0===e?void 0:e.length)>t?e.substr(0,t-1)+"...":e}var N=function(e){var t=Object(le.a)(m);t[e]=!t[e],b(t)},w=function(){var e=Object(d.a)(l.a.mark((function e(){var n,a,o,i,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(1);case 2:s&&(n=Object(c.a)({},r),a=n.ordered_books,o=null===a||void 0===a?void 0:a.findIndex((function(e){return e.name===t.name})),O(-1!==o),i=n.liked_books,d=null===i||void 0===i?void 0:i.findIndex((function(e){return e.name===t.name})),k(-1!==d));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){}),[f,g]),w();var S=function(){var n=Object(d.a)(l.a.mark((function n(a){var i,d,u,m,b,p,h;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s){n.next=4;break}return n.abrupt("return",j.toast.error("You need to log in to perform this action.",{toastId:"notLogged"}));case 4:(d={}).userId=a,d.bookId=t._id,u=null===(i=o.filter((function(e){return e.book._id===t._id&&e.user._id===a}))[0])||void 0===i?void 0:i._id,f?e.removeOrder(u):e.addOrder(d),m=Object(c.a)({},r),b=m.ordered_books,p=Object(le.a)(b),-1===(h=p.findIndex((function(e){return e.name===t.name})))?(p.push(t),O(!0),j.toast.info("Added to cart")):(p.splice(h,1),O(!1),j.toast.warn("Removed from cart")),m.ordered_books=p,e.updateUser(m,a);case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),C=function(){var n=Object(d.a)(l.a.mark((function n(a){var o,i,d,u;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s){n.next=4;break}return n.abrupt("return",j.toast.error("You need to log in to perform this action.",{toastId:"notLogged"}));case 4:o=Object(c.a)({},r),i=o.liked_books,d=Object(le.a)(i),-1===(u=d.findIndex((function(e){return e.name===t.name})))?(d.push(t),k(!0),j.toast.info("Added to liked books")):(d.splice(u,1),k(!1),j.toast.warn("Remove from liked books")),o.liked_books=d,e.updateUser(o,a);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(Oe.jsx)(a.a.Fragment,{children:Object(Oe.jsxs)("div",{className:"book__component",children:[Object(Oe.jsx)("h1",{className:"book__title__android",children:t.name}),t.image&&Object(Oe.jsx)("div",{className:"book__img",children:Object(Oe.jsx)("img",{src:"".concat("https://nameless-brook-79906.herokuapp.com","/").concat(t.image),alt:t.image})}),Object(Oe.jsxs)("div",{className:"book__info",children:[Object(Oe.jsx)("h1",{className:"book__title",children:t.name}),Object(Oe.jsxs)("h5",{className:"book__author",children:["Author : ",t.author]}),Object(Oe.jsxs)("h6",{className:"book__genre",children:["Genre : ",t.genre]}),Object(Oe.jsxs)("h6",{className:"book__publisher",children:["Publisher : ",t.publisher]}),Object(Oe.jsxs)("div",{className:"book__purshase",children:[Object(Oe.jsxs)("h6",{className:"book__price",children:["Price : ",Object(Oe.jsxs)("strong",{children:[t.price," $"]})]}),Object(Oe.jsxs)("div",{className:"book__buttons",children:[Object(Oe.jsxs)(Ie.default,{variant:"info",className:"cart_btn",onClick:function(){return S(null===r||void 0===r?void 0:r._id)},children:[Object(Oe.jsx)("i",{className:"fa fa-cart-plus mx-2"}),f?"Remove From Cart":"Add To Cart"]}),Object(Oe.jsxs)(Ie.default,{variant:"light",className:"favourite_btn",onClick:function(){return C(null===r||void 0===r?void 0:r._id)},children:[Object(Oe.jsx)("i",{className:"fa fa-star mx-2"}),g?"Remove From Favourites":"Add To Favourites"]})]})]}),Object(Oe.jsx)("h3",{children:"Description"}),Object(Oe.jsxs)("p",{children:[_(t.summary,500,0),Object(Oe.jsx)("a",{className:"text__controller",style:{color:"blue",fontSize:"rem"},onClick:function(){return N(0)},children:m[0]?"reduce":"expand"})]}),Object(Oe.jsx)("h3",{children:"About Author"}),Object(Oe.jsxs)("p",{children:[_(t.about_author,200,1),Object(Oe.jsx)("a",{className:"text__controller",style:{color:"blue",fontSize:"rem"},onClick:function(){return N(1)},children:m[1]?"reduce":"expand"})]})]})]})})}));var qe=Object(ue.connect)((function(e){return{book:e.books.currentBook,username:e.auth.username,users:e.users.users}}),{loadBook:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.get("".concat(G,"/").concat(e,"/")).then((function(t){r({type:D.actions.bookloaded.type,payload:t.data,id:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.match.params.id,r=e.book,o=e.username,s=e.users,c=Object(n.useState)({}),i=Object(de.a)(c,2),l=i[0],d=i[1];return Object(n.useEffect)((function(){e.loadBook(t),function(){var e=s.filter((function(e){return e.username===o}));d(e[0])}()}),[s]),Object(Oe.jsxs)(a.a.Fragment,{children:[Object(Oe.jsx)(ve,{}),Object(Oe.jsx)(Fe,{book:r,user:l}),Object(Oe.jsxs)("div",{className:"comments__component",children:[Object(Oe.jsx)("h3",{children:"Comments"}),Object(Oe.jsx)(Ee,{bookId:r._id})]}),Object(Oe.jsx)(ge,{}),";"]})}));var Me=Object(ue.connect)((function(e){return{books:e.books.books}}),{})((function e(t){e.prototype={books:be.a.array.isRequired};var r=Object(u.k)(),n=t.books,o=t.match.params.query,s=n.filter((function(e){return e.name.toLowerCase().includes(o.toLowerCase())})),c=function(e){r.push("/books/".concat(e))},i=function(e){e.target.style.color="crimson",e.target.style.transform="scale(1.05)"},l=function(e){e.target.style.color="black",e.target.style.transform="scale(1)"};return Object(Oe.jsxs)(a.a.Fragment,{children:[Object(Oe.jsx)(ve,{}),Object(Oe.jsx)("div",{className:"ordered__books",children:null===s||void 0===s?void 0:s.map((function(e){return Object(Oe.jsxs)("div",{className:"ordered__book",children:[Object(Oe.jsxs)("div",{className:"book__cover",children:[Object(Oe.jsx)("h3",{className:"ordered__book__title_android",style:{cursor:"pointer",transition:"all 0.5s ease"},onMouseEnter:i,onMouseLeave:l,onClick:function(){return c(e._id)},children:e.name}),Object(Oe.jsx)("img",{src:"".concat("https://nameless-brook-79906.herokuapp.com","/").concat(e.image),alt:e.image})]}),Object(Oe.jsxs)("div",{className:"book__info",children:[Object(Oe.jsx)("h3",{className:"book__title",style:{cursor:"pointer",transition:"all 0.5s ease"},onMouseEnter:i,onMouseLeave:l,onClick:function(){return c(e._id)},children:e.name}),Object(Oe.jsxs)("h5",{className:"book__author",children:["Author : ",e.author]}),Object(Oe.jsxs)("h6",{className:"book__genre",children:["Genre : ",e.genre]}),Object(Oe.jsxs)("p",{className:"book__summary",children:[Object(Oe.jsx)("strong",{children:"Summary : "})," ",(t=e.summary,r=300,(null===t||void 0===t?void 0:t.length)>r?t.substr(0,r-1)+"...":t)]}),Object(Oe.jsxs)("p",{className:"book__price",children:[Object(Oe.jsx)("strong",{children:"Price : "})," ",e.price]}),Object(Oe.jsxs)("p",{className:"book__rate",children:[Object(Oe.jsx)("strong",{children:"Rate : "})," ",e.rate]})]})]},e.name);var t,r}))}),Object(Oe.jsx)(ge,{})]})}));var Ge=Object(ue.connect)((function(e){return{users:e.users.users,username:e.auth.username,orders:e.orders.orders}}),{updateUser:M,removeOrder:ne})((function(e){var t=e.users,r=e.username,o=e.orders,s=Object(n.useState)([]),i=Object(de.a)(s,2),u=i[0],m=i[1],b=function(){var e=Object(d.a)(l.a.mark((function e(r){var n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.filter((function(e){return e.username===r})),m(null===(n=o[0])||void 0===n?void 0:n.ordered_books),e.abrupt("return",null===(a=o[0])||void 0===a?void 0:a.ordered_books);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b(r)}),[t,u]);var j=function(){var n=Object(d.a)(l.a.mark((function n(a){var s,i,d,u,b,j,p;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=t.filter((function(e){return e.username===r})),d=null===(s=o.filter((function(e){var t;return e.book._id===a._id&&e.user._id===(null===(t=i[0])||void 0===t?void 0:t._id)}))[0])||void 0===s?void 0:s._id,e.removeOrder(d),u=Object(c.a)({},i[0]),b=u.ordered_books,j=Object(le.a)(b),p=j.findIndex((function(e){return e.name===a.name})),j.splice(p,1),u.ordered_books=j,m(j),e.updateUser(u,i[0]._id);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return 0===(null===u||void 0===u?void 0:u.length)?Object(Oe.jsxs)(a.a.Fragment,{children:[Object(Oe.jsx)(ve,{}),Object(Oe.jsx)("p",{style:{marginTop:"100px"},children:" No Orders are made."})]}):Object(Oe.jsxs)(a.a.Fragment,{children:[Object(Oe.jsx)(ve,{}),Object(Oe.jsx)("div",{className:"ordered__books",children:null===u||void 0===u?void 0:u.map((function(e){return Object(Oe.jsxs)("div",{className:"ordered__book",children:[Object(Oe.jsxs)("div",{className:"ordered__book__cover",children:[Object(Oe.jsx)("h3",{className:"ordered__book__title_android",children:e.name}),Object(Oe.jsx)("img",{src:"".concat("https://nameless-brook-79906.herokuapp.com","/").concat(e.image),alt:e.image})]}),Object(Oe.jsxs)("div",{className:"ordered__book__info",children:[Object(Oe.jsx)("h3",{className:"ordered__book__title",children:e.name}),Object(Oe.jsxs)("h5",{className:"ordered__book__author",children:["Author : ",e.author]}),Object(Oe.jsxs)("h6",{className:"ordered__book__genre",children:["Genre : ",e.genre]}),Object(Oe.jsxs)("p",{className:"ordered__book__summary",children:[Object(Oe.jsx)("strong",{children:"Summary : "})," ",(t=e.summary,r=300,(null===t||void 0===t?void 0:t.length)>r?t.substr(0,r-1)+"...":t)]}),Object(Oe.jsxs)("p",{className:"ordered__book__price",children:[Object(Oe.jsx)("strong",{children:"Price : "})," ",e.price]}),Object(Oe.jsxs)("p",{className:"ordered__book__rate",children:[Object(Oe.jsx)("strong",{children:"Rate : "})," ",e.rate]}),Object(Oe.jsx)(Ie.default,{variant:"warning",className:"order__button",onClick:function(){return j(e)},children:"Remove From Cart"})]})]},e.name);var t,r}))})]})})),De=r(38),$e=r.n(De),ze=r(90),Ye=r(174),He=function(e,t){var r=$e.a.validate(t,e,{abortEarly:!1}).error;if(!r)return null;var n,a={},o=Object(Ye.a)(r.details);try{for(o.s();!(n=o.n()).done;){var s=n.value;a[s.path[0]]=s.message}}catch(c){o.e(c)}finally{o.f()}return a},We=function(e,t){var r=t.name,n=t.value,a=Object(ze.a)({},r,n),o=Object(ze.a)({},r,e[r]),s=$e.a.validate(a,o).error;return s?s.details[0].message:null};var Je=Object(ue.connect)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var r=Object(d.a)(l.a.mark((function r(n,a){var o,s;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={headers:{"Content-Type":"application/json"}},s=JSON.stringify({username:e,password:t}),r.next=4,g.post("/auth",s,o).then((function(e){n({type:N.actions.loginSuccess.type,payload:e.data})})).catch((function(e){var t,r;n(_(null===(t=e.response)||void 0===t?void 0:t.data,null===(r=e.response)||void 0===r?void 0:r.status)),console.log(e),n({type:N.actions.loginFail.type})}));case 4:return r.next=6,g.get("/users/me",A(a)).then((function(e){return n({type:N.actions.userLoaded.type,payload:e.data,username:e.data.username})})).catch((function(e){n({type:N.actions.authError.type})}));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)(""),r=Object(de.a)(t,2),a=r[0],o=r[1],s=Object(n.useState)(""),i=Object(de.a)(s,2),l=i[0],d=i[1],m=Object(n.useState)({}),b=Object(de.a)(m,2),j=b[0],p=b[1],h={username:$e.a.string().required().label("Username"),password:$e.a.string().required().label("Password")},f=function(e){var t=Object(c.a)({},j),r=We(h,e.currentTarget);r?t[e.currentTarget.name]=r:delete t[e.currentTarget.name],p(t),"username"===e.target.name&&o(e.currentTarget.value),"password"===e.target.name&&d(e.currentTarget.value)};return e.isAuthenticated?Object(Oe.jsx)(u.c,{to:"/home"}):Object(Oe.jsx)("div",{className:"col-md-10 m-auto",children:Object(Oe.jsxs)(Se.a,{className:"card card-body mt-5",children:[Object(Oe.jsx)("h2",{className:"text-center",children:"Login"}),Object(Oe.jsxs)(fe.a,{onSubmit:function(t){t.preventDefault();var r=He(h,{username:a,password:l});p({errors:r||{}}),r||e.login(a,l)},children:[Object(Oe.jsxs)(fe.a.Group,{className:"form-group",children:[Object(Oe.jsx)(fe.a.Label,{children:"Username"}),Object(Oe.jsx)(fe.a.Control,{type:"text",className:"form-control",name:"username",onChange:f,value:a}),j.username&&Object(Oe.jsx)("div",{className:"alert alert-danger",children:j.username})]}),Object(Oe.jsxs)(fe.a.Group,{className:"form-group",children:[Object(Oe.jsx)(fe.a.Label,{children:"Password"}),Object(Oe.jsx)(fe.a.Control,{type:"password",className:"form-control",name:"password",onChange:f,value:l}),j.password&&Object(Oe.jsx)("div",{className:"alert alert-danger",children:j.password})]}),Object(Oe.jsx)("div",{className:"form-group",children:Object(Oe.jsx)(Ie.default,{disabled:He(h,{username:a,password:l}),type:"submit",variant:"primary",children:"Login"})}),Object(Oe.jsxs)("p",{children:["Don't have an account? ",Object(Oe.jsx)(je.Link,{to:"/register",children:"Register"})]})]})]})})}));var Ke=Object(ue.connect)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{register:function(e){var t=e.username,r=e.password,n=e.email,a=e.country,o=e.age;return function(e){var s=JSON.stringify({username:t,password:r,email:n,country:a,age:o});g.post("/users",s,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:N.actions.registerSuccess.type,payload:t.data})})).catch((function(t){var r,n;e(_(null===(r=t.response)||void 0===r?void 0:r.data,null===(n=t.response)||void 0===n?void 0:n.status)),e({type:N.actions.registerFail.type})}))}},createMessage:I})((function(e){var t=Object(n.useState)(""),r=Object(de.a)(t,2),a=r[0],o=r[1],s=Object(n.useState)(""),i=Object(de.a)(s,2),m=i[0],b=i[1],p=Object(n.useState)(""),h=Object(de.a)(p,2),f=h[0],O=h[1],v=Object(n.useState)(""),x=Object(de.a)(v,2),g=x[0],k=x[1],y=Object(n.useState)(""),_=Object(de.a)(y,2),N=_[0],w=_[1],S=Object(n.useState)(""),C=Object(de.a)(S,2),A=C[0],L=C[1],T=Object(n.useState)({}),I=Object(de.a)(T,2),R=I[0],P=I[1],U={username:$e.a.string().required().min(3).max(50).label("Username"),email:$e.a.string().required().email().max(255).label("Email"),password:$e.a.string().required().min(5).max(255).label("Password"),password2:$e.a.string().required().min(5).max(255).label("Password2"),age:$e.a.number().required().min(0).label("Age"),country:$e.a.string().required().min(3).max(50).label("Country")};function B(e){return new Promise((function(t){return setTimeout(t,e)}))}var E=function(){var t=Object(d.a)(l.a.mark((function t(r){var n,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=He(U,{username:a,password:N,password2:A,email:m,country:f,age:g}),P({errors:n||{}}),!n){t.next=5;break}return t.abrupt("return");case 5:if(N===A){t.next=9;break}j.toast.error("Passwords do not match"),t.next=14;break;case 9:return o={username:a,password:N,email:m,country:f,age:g},t.next=12,e.register(o);case 12:return t.next=14,B(1e3);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(e){var t=Object(c.a)({},R),r=We(U,e.currentTarget);r?t[e.currentTarget.name]=r:delete t[e.currentTarget.name],P(t),"username"===e.target.name&&o(e.currentTarget.value),"email"===e.target.name&&b(e.currentTarget.value),"country"===e.target.name&&O(e.currentTarget.value),"age"===e.target.name&&k(e.currentTarget.value),"password"===e.target.name&&w(e.currentTarget.value),"password2"===e.target.name&&L(e.currentTarget.value)};return e.isAuthenticated?Object(Oe.jsx)(u.c,{to:"/home"}):Object(Oe.jsx)("div",{className:"col-md-6 m-auto",children:Object(Oe.jsxs)(Se.a,{className:"card card-body mt-5",children:[Object(Oe.jsx)("h2",{className:"text-center",children:"Register"}),Object(Oe.jsxs)(fe.a,{onSubmit:E,children:[Object(Oe.jsxs)(fe.a.Group,{className:"form-group",children:[Object(Oe.jsx)(fe.a.Label,{children:"Username"}),Object(Oe.jsx)(fe.a.Control,{type:"text",className:"form-control",name:"username",onChange:F,value:a}),R.username&&Object(Oe.jsx)("div",{className:"alert alert-danger",children:R.username})]}),Object(Oe.jsxs)(fe.a.Group,{className:"form-group",children:[Object(Oe.jsx)(fe.a.Label,{children:"Email"}),Object(Oe.jsx)(fe.a.Control,{type:"email",className:"form-control",name:"email",onChange:F,value:m}),R.email&&Object(Oe.jsx)("div",{className:"alert alert-danger",children:R.email})]}),Object(Oe.jsxs)(fe.a.Group,{className:"form-group",children:[Object(Oe.jsx)(fe.a.Label,{children:"Country"}),Object(Oe.jsx)(fe.a.Control,{type:"text",className:"form-control",name:"country",onChange:F,value:f}),R.country&&Object(Oe.jsx)("div",{className:"alert alert-danger",children:R.country})]}),Object(Oe.jsxs)(fe.a.Group,{className:"form-group",children:[Object(Oe.jsx)(fe.a.Label,{children:"Age"}),Object(Oe.jsx)(fe.a.Control,{type:"text",className:"form-control",name:"age",onChange:F,value:g}),R.age&&Object(Oe.jsx)("div",{className:"alert alert-danger",children:R.age})]}),Object(Oe.jsxs)(fe.a.Group,{className:"form-group",children:[Object(Oe.jsx)(fe.a.Label,{children:"Password"}),Object(Oe.jsx)(fe.a.Control,{type:"password",className:"form-control",name:"password",onChange:F,value:N}),R.password&&Object(Oe.jsx)("div",{className:"alert alert-danger",children:R.password})]}),Object(Oe.jsxs)(fe.a.Group,{className:"form-group",children:[Object(Oe.jsx)(fe.a.Label,{children:"Confirm Password"}),Object(Oe.jsx)(fe.a.Control,{type:"password",className:"form-control",name:"password2",onChange:F,value:A}),R.password2&&Object(Oe.jsx)("div",{className:"alert alert-danger",children:R.password2})]}),Object(Oe.jsx)("div",{className:"form-group",children:Object(Oe.jsx)(Ie.default,{type:"submit",variant:"primary",disabled:He(U,{username:a,password:N,password2:A,email:m,country:f,age:g}),children:"Register"})}),Object(Oe.jsxs)("p",{children:["Already have an account? ",Object(Oe.jsx)(je.Link,{to:"/login",children:"Login"})]})]})]})})}));r(161);var Qe=function(){return Object(Oe.jsxs)(a.a.Fragment,{children:[Object(Oe.jsx)(ve,{}),Object(Oe.jsx)("section",{className:"hero is-danger is-medium",children:Object(Oe.jsx)("div",{className:"hero-body",children:Object(Oe.jsxs)("div",{className:"container has-text-centered",children:[Object(Oe.jsx)("p",{className:"title",style:{marginBottom:"50px",color:"gold"},children:"Welcome To BookStore App"}),Object(Oe.jsx)("p",{className:"subtitle",children:"Join our bookStore and have access to a large collection of books."}),Object(Oe.jsx)("p",{className:"subtitle",children:"Our shop contains diffrent books genres from politics, bussiness to psycology and manga."}),Object(Oe.jsx)("p",{className:"subtitle",children:"You can review and discuss books with others readers."})]})})}),Object(Oe.jsxs)("div",{className:"home__images",children:[Object(Oe.jsx)("div",{className:"hero-image1",children:Object(Oe.jsxs)("div",{className:"hero-text",children:[Object(Oe.jsx)("h1",{children:"\u201cA room without books is like a body without a soul.\u201d"}),Object(Oe.jsx)("p",{children:" \u2015 Marcus Tullius Cicero"})]})}),Object(Oe.jsx)("div",{className:"hero-image2",children:Object(Oe.jsxs)("div",{className:"hero-text",children:[Object(Oe.jsxs)("h1",{children:["\u201cIf you only read the books that everyone else is reading,",Object(Oe.jsx)("br",{})," you can only think what everyone else is thinking.\u201d"]}),Object(Oe.jsx)("p",{children:"\u2015 Haruki Murakami, Norwegian Wood"})]})}),Object(Oe.jsx)("div",{className:"hero-image3",children:Object(Oe.jsxs)("div",{className:"hero-text",children:[Object(Oe.jsx)("h1",{children:"\u201cThere is no friend as loyal as a book.\u201d"}),Object(Oe.jsx)("p",{children:" \u2015 Ernest Hemingway"})]})})]}),Object(Oe.jsx)(ge,{})]})},Ve=r.p+"static/media/page_not_found.a3087ab8.jpg";var Xe=function(){return Object(Oe.jsxs)(a.a.Fragment,{children:[Object(Oe.jsx)(ve,{}),Object(Oe.jsx)("div",{children:Object(Oe.jsx)("img",{src:Ve,alt:"page_not_found"})}),Object(Oe.jsx)(ge,{})]})},Ze=r(175),et=r(176),tt=r(179),rt=r(178),nt=function(e){Object(tt.a)(r,e);var t=Object(rt.a)(r);function r(){return Object(Ze.a)(this,r),t.apply(this,arguments)}return Object(et.a)(r,[{key:"componentDidUpdate",value:function(e){var t,r,n,a,o=this.props,s=o.error,c=o.alert,i=o.message;s!==e.error&&((null===(t=s.msg)||void 0===t?void 0:t.author)&&j.toast.error("Author: ".concat(s.msg.author.join())),(null===(r=s.msg)||void 0===r?void 0:r.title)&&j.toast.error("Title: ".concat(s.msg.title.join())),(null===(n=s.msg)||void 0===n?void 0:n.non_field_errors)&&j.toast.error(s.msg.non_field_errors.join()),(null===(a=s.msg)||void 0===a?void 0:a.username)&&j.toast.error(s.msg.username.join()),s.msg&&j.toast.error(s.msg));i!==e.message&&(i.messages.addedToLiked&&c.success(i.messages.addedToLiked),i.messages.removedFromLiked&&c.info(i.messages.removedFromLiked),i.messages.addedToCart&&c.success(i.messages.addedToCart),i.messages.removedFromCart&&c.info(i.messages.removedFromCart),i.messages.passwordNotMatch&&c.error(i.messages.passwordNotMatch))}},{key:"render",value:function(){return Object(Oe.jsx)(n.Fragment,{})}}]),r}(n.Component),at=Object(ue.connect)((function(e){return{error:e.errors,message:e.messages}}))(Object(m.b)()(nt)),ot=r(177),st=r.n(ot),ct=r(123),it=r.n(ct);r(257);var lt=Object(ue.connect)((function(e){return{isAdmin:e.auth.isAdmin,books:e.books.books,users:e.users.users,comments:e.comments.comments}}),{addBook:function(e){return function(t,r){var n={isError:!1,errorMessage:""};return g.post(G,e,A(r)).then((function(e){t({type:D.actions.bookAdded.type,payload:e.data})})).catch((function(e){var t,r;console.log(null===(t=e.response)||void 0===t?void 0:t.data),n.isError=!0,n.errorMessage=null===(r=e.response)||void 0===r?void 0:r.data})),n}},deleteBook:function(e){return function(t,r){var n={isError:!1,errorMessage:""};return g.delete("".concat(G,"/").concat(e,"/"),A(r)).then((function(r){t({type:D.actions.bookRemoved.type,payload:r.data,id:e})})).catch((function(e){var t,r;console.log(null===(t=e.response)||void 0===t?void 0:t.data),n.isError=!0,n.errorMessage=null===(r=e.response)||void 0===r?void 0:r.data})),n}},addComment:V,addUser:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r,n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={isError:!1,errorMessage:""},t.next=3,g.post(U,e,A(n)).then((function(e){r({type:B.actions.userAdded.type,payload:e.data})})).catch((function(e){var t,r;console.log(null===(t=e.response)||void 0===t?void 0:t.data),a.isError=!0,a.errorMessage=null===(r=e.response)||void 0===r?void 0:r.data}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},updateUser:M,updateAllUser:function(e,t){return function(){var r=Object(d.a)(l.a.mark((function r(n,a){var o;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={isError:!1,errorMessage:""},r.next=3,g.put("".concat(U,"/").concat(t,"/"),e,A(a)).then((function(e){n({type:B.actions.userObjectUpdated.type,payload:e.data,id:t})})).catch((function(e){var t,r;console.log(null===(t=e.response)||void 0===t?void 0:t.data),o.isError=!0,o.errorMessage=null===(r=e.response)||void 0===r?void 0:r.data}));case 3:return r.abrupt("return",o);case 4:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},deleteUser:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r,n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={isError:!1,errorMessage:""},t.next=3,g.delete("".concat(U,"/").concat(e,"/"),A(n)).then((function(t){r({type:B.actions.userRemoved.type,payload:t.data,id:e})})).catch((function(e){var t,r;console.log(null===(t=e.response)||void 0===t?void 0:t.data),a.isError=!0,a.errorMessage=null===(r=e.response)||void 0===r?void 0:r.data}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}})((function e(t){e.prototype={isAdmin:me.PropTypes.bool.isRequired,addBook:me.PropTypes.func.isRequired,deleteBook:me.PropTypes.func.isRequired,addComment:me.PropTypes.func.isRequired,addUser:me.PropTypes.func.isRequired,updateUser:me.PropTypes.func.isRequired,updateAllUser:me.PropTypes.func.isRequired,deleteUser:me.PropTypes.func.isRequired};var r=t.isAdmin,o=t.addBook,s=t.deleteBook,c=t.addComment,i=t.addUser,l=t.updateUser,d=(t.updateAllUser,t.deleteUser),m=t.books,b=t.users,j=t.comments;return Object(n.useEffect)((function(){}),[r]),!1===r?Object(Oe.jsx)(u.c,{to:"/home"}):Object(Oe.jsxs)(a.a.Fragment,{children:[Object(Oe.jsx)(st.a,{}),Object(Oe.jsx)(it.a,{data:{name:"books",imagesUrl:"".concat("https://nameless-brook-79906.herokuapp.com","/"),table:m,icon:Object(Oe.jsx)("i",{className:"fa fa-book"})},tableAttributes:[{title:"name",label:"Name",type:"text",format:"input",display:"table/form",validation_type:"string"},{title:"author",label:"Author",type:"text",format:"input",display:"table/form",validation_type:"string"},{title:"summary",label:"Summary",type:"text",format:"input",display:"form",validation_type:"string"},{title:"about_author",label:"About author",type:"text",format:"input",display:"form",validation_type:"string"},{title:"genre",label:"Genre",type:"text",format:"select",display:"table/form"},{title:"publisher",label:"Publisher",type:"text",format:"input",display:"table/form",validation_type:"string"},{title:"date",label:"Date",type:"text",format:"input",display:"table/form",validation_type:"string"},{title:"price",label:"Price",type:"text",format:"input",display:"table/form",validation_type:"number"},{title:"rate",label:"Rate",type:"text",format:"input",display:"table/form",validation_type:"number"},{title:"image",label:"Image",type:"file",format:"input",display:"table/form",image:!0}],search:"name",filters:["genre"],elementAdd:o,elementDelete:s}),Object(Oe.jsx)(it.a,{data:{name:"users",table:b,icon:Object(Oe.jsx)("i",{className:"fa fa-users"})},tableAttributes:[{title:"username",label:"Username",type:"text",format:"input",display:"table/form",validation_type:"string"},{title:"email",label:"Email",type:"email",format:"input",display:"table/form",validation_type:"string"},{title:"password",label:"Password",type:"text",format:"input",display:"table/form",validation_type:"string"},{title:"isAdmin",label:"IsAdmin",type:"text",format:"select",display:"table/form"},{title:"age",label:"Age",type:"text",format:"input",display:"table/form",validation_type:"number"},{title:"country",label:"Country",type:"text",format:"input",display:"table/form",validation_type:"string"}],filters:["isAdmin"],search:"username",elementAdd:i,elementUpdate:l,elementDelete:d}),Object(Oe.jsx)(it.a,{data:{name:"comments",table:j,icon:Object(Oe.jsx)("i",{className:"fa fa-comments"})},tableAttributes:[{title:"comment",label:"Comment",type:"text",format:"input",display:"table/form",validation_type:"string"},{title:"user.username",label:"Username",type:"text",format:"json",display:"table/form",validation_type:"object",urlForm:{tableName:"users",id:"user._id"}},{title:"book.name",label:"Book",type:"text",format:"json",display:"table/form",validation_type:"object",urlForm:{tableName:"books",id:"book._id"},relatedProperty:{tableName:"books",related_id:"book._id",property:"image",type:"image",imagesUrl:"".concat("https://nameless-brook-79906.herokuapp.com","/")}},{title:"like_counter",label:"Like counter",type:"text",format:"input",display:"table/form",validation_type:"number"},{title:"dislike_counter",label:"Dislike counter",type:"text",format:"input",display:"table/form",validation_type:"number"}],search:"comment",elementAdd:c})]})})),dt=r(138),ut=(r(164),r(266),r(267),r(268),r(269),r(270),r(271),{timeout:3e3,position:"middle"});var mt=function(){return Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ie.getState().auth.token){e.next=3;break}return e.next=3,ie.dispatch(C());case 3:return e.next=5,ie.dispatch(q());case 5:return e.next=7,ie.dispatch(Y());case 7:return e.next=9,ie.dispatch(Q());case 9:return e.next=11,ie.dispatch(re());case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(Oe.jsx)(m.a,Object(c.a)(Object(c.a)({template:b.a},ut),{},{children:Object(Oe.jsxs)("div",{className:"App",children:[Object(Oe.jsx)(at,{}),Object(Oe.jsx)(j.ToastContainer,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(Oe.jsxs)(u.g,{children:[Object(Oe.jsx)(u.d,{path:"/search/:query",component:Me}),Object(Oe.jsx)(u.d,{path:"/books/:id",component:qe}),Object(Oe.jsx)(u.d,{path:"/books",component:Pe}),Object(Oe.jsx)(u.d,{path:"/orders",component:Ge}),Object(Oe.jsx)(u.d,{path:"/login",component:Je}),Object(Oe.jsx)(u.d,{path:"/register",component:Ke}),dt.AdminUpdateRoutes," ",dt.AdminCreateRoutes,Object(Oe.jsx)(u.d,{path:"/admin",component:lt}),Object(Oe.jsx)(u.d,{path:"/home",component:Qe}),Object(Oe.jsx)(u.d,{path:"/not-found",component:Xe}),Object(Oe.jsx)(u.c,{from:"/",exact:!0,to:"/home"}),Object(Oe.jsx)(u.c,{to:"/not-found"})]})]})}))};r(272),r(273),r(274);s.a.render(Object(Oe.jsx)(a.a.StrictMode,{children:Object(Oe.jsx)(je.BrowserRouter,{children:Object(Oe.jsx)(ue.Provider,{store:ie,children:Object(Oe.jsx)(mt,{})})})}),document.getElementById("root"))}},[[275,1,2]]]);
//# sourceMappingURL=main.3eef75c9.chunk.js.map